(this["webpackJsonpannouncement-website"]=this["webpackJsonpannouncement-website"]||[]).push([[0],{18:function(e,t,n){},27:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(1),i=(n(23),n(0)),s=n.n(i),c=n(12),o=n.n(c),r=(n(27),n(7)),l=n(8),d=n(11),h=n(10),u=n(6),j=n(15),p=n(33),b=n(20),x=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.props.items&&a.props.items.length&&a.setPage(a.props.initialPage)},a.componentDidUpdate=function(e){a.props.items!==e.items&&a.setPage(a.props.initialPage)},a.setPage=function(e){var t=a.props.items,n=a.state.pager;if(!(e<1||e>n.totalPages)){n=a.getPager(t.length,e);var i=t.slice(n.startIndex,n.endIndex+1);a.setState({pager:n}),a.props.onChangePage(i)}},a.getPager=function(e,t,n){t=t||1,n=n||5;var a,i,s=Math.ceil(e/n);s<=10?(a=1,i=s):t<=6?(a=1,i=10):t+4>=s?(a=s-9,i=s):(a=t-5,i=t+4);var c=(t-1)*n,o=Math.min(c+n-1,e-1),r=Object(b.a)(Array(i+1-a).keys()).map((function(e){return a+e}));return{totalItems:e,currentPage:t,pageSize:n,totalPages:s,startPage:a,endPage:i,startIndex:c,endIndex:o,pages:r}},a.state={pager:{}},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state.pager;return!t.pages||t.pages.length<=1?null:Object(a.jsxs)("ul",{className:"pagination",children:[Object(a.jsx)("li",{children:Object(a.jsx)(j.a,{disabled:1===t.currentPage,onClick:function(){return e.setPage(t.currentPage-1)},variant:"link",children:"Previous"})}),t.pages.map((function(n,i){return Object(a.jsx)("li",{className:t.currentPage===n?"active":"",children:Object(a.jsx)(j.a,{onClick:function(){return e.setPage(n)},variant:"link",children:n})},i)})),Object(a.jsx)("li",{children:Object(a.jsx)(j.a,{disabled:t.currentPage===t.totalPages,onClick:function(){return e.setPage(t.currentPage+1)},variant:"link",children:"Next"})})]})}}]),n}(s.a.Component),O=n(34);function f(e){return fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.error(e)}))}n(18);var g=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=new Date,t=("00"+(e.getMonth()+1)).slice(-2)+"/"+("00"+e.getDate()).slice(-2)+"/"+e.getFullYear()+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2);a.setState({date:t})},a.handleModalShowHide=function(){a.setState({showHide:!a.state.showHide})},a.handleModalSave=function(e){a.setState({showHide:!a.state.showHide});var t={title:a.state.title,description:a.state.description,id:e,date:a.state.date};!function(e,t){var n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch(e,n).then((function(e){return e.json()})).then((function(e){return console.log(e),e}))}("http://localhost:3004/listOfAnnouncement/".concat(e),t);f("http://localhost:3004/listOfAnnouncement").then((function(e){a.props.handleToUpdate(e)}))},a.handleChangeTitle=function(e){a.setState({title:e.target.value})},a.handleChangeDescription=function(e){a.setState({description:e.target.value})},a.state={showHide:!1,title:a.props.announcement.title,description:a.props.announcement.description,id:a.props.announcement.id,date:a.props.announcement.date},a.handleChangeTitle=a.handleChangeTitle.bind(Object(u.a)(a)),a.handleChangeDescription=a.handleChangeDescription.bind(Object(u.a)(a)),a.handleModalSave=a.handleModalSave.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{variant:"secondary",onClick:function(){return e.handleModalShowHide()},children:"Edit announcement"}),Object(a.jsxs)(O.a,{show:this.state.showHide,children:[Object(a.jsx)(O.a.Header,{closeButton:!0,onClick:function(){return e.handleModalShowHide()},children:Object(a.jsx)(O.a.Title,{children:"Edit announcement"})}),Object(a.jsx)(O.a.Body,{children:Object(a.jsxs)("form",{children:[Object(a.jsx)("label",{for:"title",children:"Title"}),Object(a.jsx)("input",{className:"modalInput",id:"title",type:"text",value:this.state.title,onChange:this.handleChangeTitle}),Object(a.jsx)("label",{children:"Description"}),Object(a.jsx)("input",{className:"modalInput",id:"description",type:"text",value:this.state.description,onChange:this.handleChangeDescription})]})}),Object(a.jsxs)(O.a.Footer,{children:[Object(a.jsx)(j.a,{variant:"outline-secondary",onClick:function(){return e.handleModalShowHide()},children:"\u0421lose"}),Object(a.jsx)(j.a,{variant:"outline-secondary",onClick:function(){return e.handleModalSave(e.state.id)},children:"Save \u0441hanges"})]})]})]})}}]),n}(s.a.Component),v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.getDate(),a.setState({id:a.uuidv4()})},a.handleModalShowHide=function(){a.setState({showHide:!a.state.showHide})},a.getDate=function(){var e=new Date,t=("00"+e.getDate()).slice(-2)+"/"+("00"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear()+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2);a.setState({date:t}),console.log(t),console.log(e.getTime())},a.handleModalSave=function(){a.setState({showHide:!a.state.showHide});var e="http://localhost:3004/listOfAnnouncement";!function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch(e,n).then((function(e){return e.json()})).then((function(e){console.log(e)}))}(e,{title:a.state.title,description:a.state.description,id:a.state.id,date:a.state.date}),f(e).then((function(e){a.props.handleToUpdate(e)})),a.setState({title:"",description:"",id:0,date:""})},a.handleChangeTitle=function(e){a.setState({title:e.target.value})},a.handleChangeDescription=function(e){a.setState({description:e.target.value})},a.state={showHide:!1,title:"",description:"",id:0,date:""},a.handleChangeTitle=a.handleChangeTitle.bind(Object(u.a)(a)),a.handleChangeDescription=a.handleChangeDescription.bind(Object(u.a)(a)),a.handleModalSave=a.handleModalSave.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{variant:"secondary",className:"addButton",onClick:function(){return e.handleModalShowHide()},children:"Add new post"}),Object(a.jsxs)(O.a,{show:this.state.showHide,children:[Object(a.jsx)(O.a.Header,{closeButton:!0,onClick:function(){return e.handleModalShowHide()},children:Object(a.jsx)(O.a.Title,{children:"Add new post"})}),Object(a.jsx)(O.a.Body,{children:Object(a.jsxs)("form",{children:[Object(a.jsx)("label",{for:"title",children:"Title"}),Object(a.jsx)("input",{className:"modalInput",id:"title",type:"text",placeholder:"Enter your title",value:this.state.title,onChange:this.handleChangeTitle}),Object(a.jsx)("label",{children:"Description"}),Object(a.jsx)("input",{className:"modalInput",id:"description",type:"text",placeholder:"Enter your body",value:this.state.description,onChange:this.handleChangeDescription})]})}),Object(a.jsxs)(O.a.Footer,{children:[Object(a.jsx)(j.a,{variant:"outline-secondary",onClick:function(){return e.handleModalShowHide()},children:"\u0421lose"}),Object(a.jsx)(j.a,{variant:"outline-secondary",onClick:function(){return e.handleModalSave()},children:"Save \u0441hanges"})]})]})]})}}]),n}(s.a.Component),m=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).handleModalShowHide=function(){i.setState({showHide:!i.state.showHide})},i.handleModalSave=function(){i.setState({showHide:!i.state.showHide})},i.renderData=function(){return i.state.arrayToShow.map((function(e){var t=e.id,n=e.title,i=e.description,s=e.date;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{width:"20%"},children:n}),Object(a.jsx)("td",{children:i}),Object(a.jsx)("td",{style:{width:"15%"},children:s})]},t)}))},i.state={showHide:!1,arrayToShow:[],exampleItems:[]},i.handleModalSave=i.handleModalSave.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;f("http://localhost:3004/listOfAnnouncement").then((function(t){e.setState({exampleItems:t});var n=[];e.state.exampleItems.forEach((function(e){var t=86400*parseInt(e.date.split(" ")[0].split("/")[0],10),a=2629746*parseInt(e.date.split(" ")[0].split("/")[1],10),i=31536e3*parseInt(e.date.split(" ")[0].split("/")[2],10),s=3600*parseInt(e.date.split(" ")[1].split(":")[0],10),c=60*parseInt(e.date.split(" ")[1].split(":")[1],10),o={date:parseInt(e.date.split(" ")[1].split(":")[2],10)+c+s+t+a+i,id:e.id};n.push(o)}));for(var a=0;a<e.state.exampleItems.length;a++)for(var i=0;i<3;i++)n[i].id===e.state.exampleItems[a].id&&e.state.arrayToShow.push(e.state.exampleItems[a])}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{variant:"secondary",onClick:function(){return e.handleModalShowHide()},children:"Three latest announcement"}),Object(a.jsxs)(O.a,{size:"lg",show:this.state.showHide,children:[Object(a.jsx)(O.a.Header,{closeButton:!0,onClick:function(){return e.handleModalShowHide()},children:Object(a.jsx)(O.a.Title,{children:"Three latest announcement"})}),Object(a.jsx)(O.a.Body,{children:Object(a.jsxs)(p.a,{striped:!0,bordered:!0,responsive:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Title"}),Object(a.jsx)("th",{children:"Description"}),Object(a.jsx)("th",{children:"Date added"})]})}),Object(a.jsx)("tbody",{children:this.renderData()})]})}),Object(a.jsx)(O.a.Footer,{children:Object(a.jsx)(j.a,{variant:"outline-secondary",onClick:function(){return e.handleModalShowHide()},children:"\u0421lose"})})]})]})}}]),n}(s.a.Component),S=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.setState({filtered:i.props.items})},i.componentWillReceiveProps=function(e){i.setState({filtered:e.items})},i.handleToUpdate=function(e){i.setState({filtered:e})},i.handleChange=function(e){var t=[];t=""!==e.target.value?i.props.items.filter((function(t){var n=t.title.toLowerCase(),a=e.target.value.toLowerCase();return n.includes(a)})):i.state.filtered,i.setState({pageOfItems:t})},i.onChangePage=function(e){i.setState({pageOfItems:e})},i.deleteElem=function(e,t){var n,a;(n="http://localhost:3004/listOfAnnouncement/".concat(e),a=t,fetch(n,{method:"DELETE",body:a}).then((function(e){e.json()}))).then((function(){var t=i.state.filtered.filter((function(t){return e!==t.id}));i.setState({filtered:t})}))},i.renderData=function(e){return e.map((function(e,t){var n=e.id,s=e.title,c=e.description,o=e.date;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{width:"15%"},children:s}),Object(a.jsx)("td",{children:Object(a.jsx)("p",{className:"tableDescription",style:{height:"150px",overflow:"auto"},children:c})}),Object(a.jsx)("td",{style:{width:"15%"},children:o}),Object(a.jsx)("td",{style:{width:"10%"},children:Object(a.jsx)(j.a,{variant:"secondary",onClick:function(){i.deleteElem(e.id,e)},children:"Delete announcement"})}),Object(a.jsx)("td",{style:{width:"10%"},children:Object(a.jsx)(g,{announcement:e,handleToUpdate:i.handleToUpdate})})]},n)}))},i.state={filtered:[],pageOfItems:[]},i.handleChange=i.handleChange.bind(Object(u.a)(i)),i.onChangePage=i.onChangePage.bind(Object(u.a)(i)),i.handleToUpdate=i.handleToUpdate.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)(v,{handleToUpdate:this.handleToUpdate}),Object(a.jsx)(m,{}),Object(a.jsx)("input",{type:"text",className:"inputSearchBar",onChange:this.handleChange,placeholder:"Search..."})]}),Object(a.jsxs)(p.a,{striped:!0,bordered:!0,responsive:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Title"}),Object(a.jsx)("th",{children:"Description"}),Object(a.jsx)("th",{children:"Date added"}),Object(a.jsx)("th",{}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:this.renderData(this.state.pageOfItems)})]}),Object(a.jsx)(x,{items:this.state.filtered,onChangePage:this.onChangePage})]})}}]),n}(s.a.Component),C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={exampleItems:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;f("http://localhost:3004/listOfAnnouncement").then((function(t){e.setState({exampleItems:t})}))}},{key:"render",value:function(){return Object(a.jsx)(S,{items:this.state.exampleItems})}}]),n}(s.a.Component),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),s(e),c(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(C,{})}),document.getElementById("root")),w()}},[[31,1,2]]]);
//# sourceMappingURL=main.632da204.chunk.js.map